services:
  digital_signage_framework.renderer:
    class: Drupal\digital_signage_framework\Renderer
    arguments: ['@entity_type.manager', '@renderer', '@html_response.attachments_processor']

  digital_signage_framework.event_subscriber.blocks:
    class: Drupal\digital_signage_framework\EventSubscriber\Blocks
    arguments: ['@entity_type.manager', '@renderer', '@block.repository', '@theme.manager', '@theme_handler', '@theme.initialization']
    tags:
      - { name: event_subscriber }

  digital_signage_content_setting.entity_update:
    class: Drupal\digital_signage_framework\EntityUpdate
    arguments: ['@entity_type.manager', '@entity.definition_update_manager', '@digital_signage_platform.entity_update', '@entity_type.bundle.info', '@digital_signage_content_setting.entity_types', '@module_handler']
  digital_signage_content_setting.events:
    class: Drupal\digital_signage_framework\ContentEvent
    arguments: ['@entity_type.manager', '@messenger']
  digital_signage_content_setting.entity_types:
    class: Drupal\digital_signage_framework\EntityTypes
    arguments: ['@entity_type.manager']
  digital_signage_content_setting.emergency:
    class: Drupal\digital_signage_framework\Emergency
    arguments: ['@entity_type.manager']
  digital_signage_content_setting.queries:
    class: Drupal\digital_signage_framework\Query
    arguments: ['@entity_type.manager', '@digital_signage_content_setting.emergency']

  plugin.manager.digital_signage_platform:
    class: Drupal\digital_signage_framework\PlatformPluginManager
    parent: default_plugin_manager
    arguments: ['@digital_signage_platform.logger']
  digital_signage_platform.entity_update:
    class: Drupal\digital_signage_framework\EntityFieldUpdate
    arguments: ['@entity_type.manager', '@entity.definition_update_manager']
  digital_signage_platform.logger:
    parent: logger.channel_base
    arguments: ['digital signage']

  schedule.manager.digital_signage_platform:
    class: Drupal\digital_signage_framework\ScheduleManager
    arguments: ['@plugin.manager.digital_signage_schedule_generator', '@plugin.manager.digital_signage_platform', '@entity_type.manager', '@module_handler']
  plugin.manager.digital_signage_schedule_generator:
    class: Drupal\digital_signage_framework\ScheduleGeneratorPluginManager
    parent: default_plugin_manager
