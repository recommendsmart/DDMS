services:
  # Plugin managers
  plugin.manager.system_tags.system_tag_finder_manager:
    class: Drupal\system_tags\SystemTagFinder\SystemTagFinderManager
    parent: default_plugin_manager

  # Config
  system_tags.system_page_config_overrider:
    class: Drupal\system_tags\Config\SystemPageConfigOverrider
    arguments:
      - '@plugin.manager.system_tags.system_tag_finder_manager'
    tags:
      - { name: config.factory.override, priority: 5 }

  # Twig extension
  system_tags.twig_extension:
    class: Drupal\system_tags\TwigExtension\SystemTagsTwigExtension
    arguments:
      - '@plugin.manager.system_tags.system_tag_finder_manager'
    tags:
      - { name: twig.extension }

  # Other
  system_tags.system_tag_helper:
    class: Drupal\system_tags\SystemTagHelper
    arguments:
      - '@entity_type.manager'
