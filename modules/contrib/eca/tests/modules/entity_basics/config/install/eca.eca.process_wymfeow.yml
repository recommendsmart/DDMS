langcode: en
status: true
dependencies:
  module:
    - eca_content
    - eca_user
    - node
id: process_wymfeow
modeller: bpmn_io
label: 'Basic entity tests'
version: 1.0.0
weight: null
events:
  Event_0033g46:
    plugin: 'content_entity:update'
    label: 'Update node'
    fields:
      -
        key: type
        value: 'node _all'
    successors:
      -
        id: Activity_00b702g
        condition: ''
  Event_0vwr0rl:
    plugin: 'content_entity:presave'
    label: 'Pre-save node'
    fields:
      -
        key: type
        value: 'node _all'
    successors:
      -
        id: Activity_1a19oxh
        condition: ''
      -
        id: Activity_0w47i6f
        condition: Flow_0rnawfp
conditions:
  Flow_0rnawfp:
    plugin: eca_entity_type_bundle
    fields:
      -
        key: type
        value: 'node article'
      -
        key: negate
        value: 'no'
      -
        key: entity
        value: ''
gateways:
  '':
    type: 4
    successors: {  }
actions:
  Activity_00b702g:
    plugin: action_message_action
    label: Msg
    fields:
      -
        key: message
        value: 'Node [entity:nid] ([entity:title]) was updated and ECA recognized this.'
    successors: {  }
  Activity_1a19oxh:
    plugin: node_make_sticky_action
    label: 'Make st√≠cky'
    fields:
      -
        key: save_entity
        value: 'no'
      -
        key: strip_tags
        value: 'no'
      -
        key: trim
        value: 'no'
      -
        key: object
        value: ''
    successors:
      -
        id: Activity_0u9ayn3
        condition: ''
  Activity_0w47i6f:
    plugin: node_promote_action
    label: 'Promote to front page'
    fields:
      -
        key: save_entity
        value: 'no'
      -
        key: strip_tags
        value: 'no'
      -
        key: trim
        value: 'no'
      -
        key: object
        value: ''
    successors:
      -
        id: Activity_10999pm
        condition: ''
      -
        id: Activity_1fmd24b
        condition: ''
  Activity_0u9ayn3:
    plugin: action_message_action
    label: Msg
    fields:
      -
        key: message
        value: 'Made node [entity:title] sticky'
    successors: {  }
  Activity_10999pm:
    plugin: action_message_action
    label: Msg
    fields:
      -
        key: message
        value: 'Promoted article [entity:title] to front page'
    successors: {  }
  Activity_0t82j94:
    plugin: eca_set_field_value
    label: 'Set title'
    fields:
      -
        key: field_name
        value: title
      -
        key: field_value
        value: 'Article from [user:name]'
      -
        key: save_entity
        value: 'no'
      -
        key: strip_tags
        value: 'no'
      -
        key: trim
        value: 'no'
      -
        key: object
        value: ''
    successors:
      -
        id: Activity_15kgp0b
        condition: ''
  Activity_15kgp0b:
    plugin: action_message_action
    label: Msg
    fields:
      -
        key: message
        value: 'Updated title of article'
    successors: {  }
  Activity_1fmd24b:
    plugin: eca_token_load_user_current
    label: 'Load user'
    fields: {  }
    successors:
      -
        id: Activity_0t82j94
        condition: ''
